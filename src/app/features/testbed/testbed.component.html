<section class="testbed">
  <app-topbar
    [status]="status()"
    (runBenchmark)="runBenchmark()"
    (exportMetrics)="exportMetrics()"
    (toggleGui)="toggleGui()"
  ></app-topbar>

  <main class="layout">
    <div class="viewport-stage">
      <app-viewport></app-viewport>
      <app-hud [rendererLabel]="rendererLabel()" [metrics]="metrics()"></app-hud>
      <app-status-bar [status]="status()" [benchmark]="benchmark()"></app-status-bar>
    </div>

    <app-sidebar>
      <app-collections-panel
        [collections]="collections()"
        [activeId]="activeCollectionId()"
        (select)="selectCollection($event)"
      ></app-collections-panel>

      <app-presets-panel
        [presets]="presets()"
        [presetName]="presetName()"
        (apply)="applyPreset($event)"
        (delete)="deletePreset($event)"
        (updateName)="updatePresetName($event)"
        (save)="savePreset()"
      ></app-presets-panel>

      <app-capabilities-panel [rows]="capabilityRows()"></app-capabilities-panel>

      <app-inspector-panel [rows]="inspectorRows()"></app-inspector-panel>

      <app-feature-toggles-panel [features]="featureRows()"></app-feature-toggles-panel>
    </app-sidebar>
  </main>

  <div appGuiDock [visible]="guiVisible()"></div>
</section>
